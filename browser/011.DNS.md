# DNS

DNS 的作⽤就是通过域名查询到具体的 IP。

因为 IP 存在数字和英⽂的组合（IPv6），很不利于⼈类记忆，所以就出现了域名。你可以把域名看成是某个 IP 的别名，DNS 就是去查询这个别名的真正名称是什么。



在 TCP 握⼿之前就已经进⾏了 DNS 查询，这个查询是操作系统⾃⼰做的。

当你在浏览器中想访问 www.google.com 时，会进⾏⼀下操作：

1. 操作系统会⾸先在本地缓存中查询
2. 没有的话会去系统配置的 DNS 服务器中查询
3. 如果这时候还没得话，会直接去 DNS 根服务器查询，这⼀步查询会找出负责 com 这个⼀级域名的服务器
4. 然后去该服务器查询 google 这个⼆级域名
5. 接下来三级域名的查询其实是我们配置的，你可以给 www 这个域名配置⼀个 IP，然后还可以给别的三级域名配置⼀个 IP



以上介绍的是 DNS 迭代查询，还有种是递归查询，

区别就是前者是由客户端去做请求，后者是由系统配置的 DNS 服务器做请求，得到结果后将数据返回给客户端。



PS：DNS 是基于 UDP 做的查询。